<!DOCTYPE html>
<html>
<head>
	<title>Puhu Ku≈üu</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.0.1/ol.css" />
	<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.6/semantic.min.css">
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/openlayers/4.0.1/ol.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.6/semantic.min.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDwedtbCae-frsVDz_I7N0lH5n78FE_bG8"></script>
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
	    $( document ).ready(function() {
	      });
    </script>
</head>
<body>

<% include ./parts/menu %>
<% include ./parts/layermenu %>



<div id="map"></div>


<script type="text/javascript">
  var map = new ol.Map({
    target: 'map',
    layers: [
	    new ol.layer.Tile({
	    	source: new ol.source.OSM()
	    }),
	    new ol.layer.Vector({
	    	projection: 'EPSG:4326',
	    	source: new ol.source.Vector({
	    		features: (new ol.format.GeoJSON()).readFeatures(<%- JSON.stringify(data) %>)
	    	}),
	    	style : new ol.style.Style({
    			stroke: new ol.style.Stroke({
    				color: 'red',
    				width: 2
    			})
    		})
	    })
    ],
    view: new ol.View({
    	projection: 'EPSG:4326',
     	center: [26.96,39.59], //ol.proj.fromLonLat([26.96, 39.59]),
     	zoom: 15
    }),
    eventListeners: {
    	featureover: function(e) {
    		e.feature.renderIntent = "select";
    	}
    }
  });
  map.addInteraction (new ol.interaction.Draw({
  	source: new ol.source.Vector({}),
  	type: "Polygon"
  }));
</script>

</body>
</html>